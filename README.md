# نظام مقارنة الاختبارات التعليمية

## نظرة عامة

هذا النظام مصمم لمقارنة أداء الطلاب في مجموعتين من الاختبارات:
- **المجموعة الأولى (قبل التعلم)**: test1, test2, test3, test4
- **المجموعة الثانية (بعد التعلم)**: test1(2), testtashely, mlahza

## المميزات

### 📊 صفحة المقارنة
- عرض نتائج كل اختبار في المجموعتين
- حساب المتوسطات الإجمالية لكل مجموعة
- تحديد أي مجموعة حققت أداءً أفضل
- عرض معدل التحسن أو الانخفاض
- رسم بياني تفاعلي للمقارنة
- إحصائيات إضافية (عدد الطلاب، أفضل اختبار، إلخ)

### 🎯 التحليلات
- مقارنة مباشرة بين المجموعتين
- حساب نسبة التحسن
- تحديد أفضل اختبار
- إحصائيات شاملة

## كيفية التشغيل

### 🚀 التشغيل السريع (Windows)
1. انقر مرتين على ملف `start_system.bat`
2. انتظر حتى يتم تشغيل النظام
3. سيتم فتح المتصفح تلقائياً

### 🚀 التشغيل السريع (Python)
```bash
python run_system.py
```

### 🔧 التشغيل اليدوي

#### 1. تثبيت المتطلبات
```bash
pip install flask flask-sqlalchemy
```

#### 2. إعداد قاعدة البيانات
```bash
python populate_comparison_data.py
```

#### 3. تشغيل التطبيق
```bash
python app.py
```

#### 4. الوصول للتطبيق
افتح المتصفح واذهب إلى: `http://127.0.0.1:5000`

## 🌐 الروابط السريعة

بعد تشغيل النظام، يمكنك الوصول إلى:

- **🏠 الصفحة الرئيسية**: http://127.0.0.1:5000
- **📊 لوحة التحكم**: http://127.0.0.1:5000/dashboard
- **📈 صفحة المقارنة**: http://127.0.0.1:5000/comparison
- **🧪 الاختبارات**:
  - test1: http://127.0.0.1:5000/test1
  - test2: http://127.0.0.1:5000/test2
  - test3: http://127.0.0.1:5000/test3
  - test4: http://127.0.0.1:5000/test4
  - test1(2): http://127.0.0.1:5000/test1(2)
  - testtashely: http://127.0.0.1:5000/testtashely
  - mlahza: http://127.0.0.1:5000/mlahza

## كيفية الاستخدام

### الوصول لصفحة المقارنة
1. اذهب إلى لوحة التحكم: `http://127.0.0.1:5000/dashboard`
2. اضغط على زر "📊 مقارنة الاختبارات"
3. أو اذهب مباشرة إلى: `http://127.0.0.1:5000/comparison`

### فهم النتائج
- **المجموعة الأولى (قبل التعلم)**: تظهر باللون الأحمر
- **المجموعة الثانية (بعد التعلم)**: تظهر باللون الأخضر
- **التحسن**: يظهر باللون الأخضر مع رمز 🎉
- **الانخفاض**: يظهر باللون الأحمر مع رمز ⚠️
- **التساوي**: يظهر باللون البرتقالي مع رمز ⚖️

## هيكل قاعدة البيانات

### جدول test_results
```sql
CREATE TABLE test_results (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    student_name TEXT NOT NULL,
    test_type TEXT NOT NULL,
    score INTEGER NOT NULL,
    percentage REAL NOT NULL,
    grade TEXT NOT NULL,
    submission_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## API Endpoints

### الحصول على بيانات المقارنة
```
GET /api/comparison-data
```

### حفظ نتيجة اختبار
```
POST /api/save-test-result
Content-Type: application/json

{
    "student_name": "اسم الطالب",
    "test_type": "نوع الاختبار",
    "score": 85,
    "percentage": 85.0,
    "grade": "جيد جداً"
}
```

## الملفات الرئيسية

- `app.py` - التطبيق الرئيسي
- `comparison.html` - صفحة المقارنة
- `dashboard.html` - لوحة التحكم
- `populate_comparison_data.py` - ملء البيانات التجريبية
- `exam_system.db` - قاعدة البيانات

## التخصيص

### إضافة اختبارات جديدة
1. أضف الاختبار إلى القائمة المناسبة في `app.py`
2. أضف مسار جديد للاختبار
3. أضف رابط في لوحة التحكم

### تعديل معايير التقييم
يمكن تعديل دالة `get_grade()` في `populate_comparison_data.py` لتغيير معايير التقدير.

## 🔧 استكشاف الأخطاء

### مشكلة: لا يمكن تشغيل النظام
**الحل:**
1. تأكد من تثبيت Python
2. تأكد من تثبيت Flask: `pip install flask`
3. تأكد من أن المنفذ 5000 متاح

### مشكلة: خطأ في قاعدة البيانات
**الحل:**
1. احذف ملف `exam_system.db` إذا كان موجوداً
2. شغل `python populate_comparison_data.py` مرة أخرى

### مشكلة: لا تظهر البيانات في المقارنة
**الحل:**
1. تأكد من تشغيل `populate_comparison_data.py`
2. تحقق من console المتصفح للأخطاء
3. تأكد من أن API endpoints تعمل

### مشكلة: خطأ في الاتصال
**الحل:**
1. تأكد من أن الخادم يعمل على http://127.0.0.1:5000
2. تحقق من firewall
3. جرب إعادة تشغيل النظام

## 📞 الدعم

لأي استفسارات أو مشاكل:
1. راجع هذا الملف أولاً
2. راجع ملف `integration_guide.md` للتكامل
3. راجع ملف `SYSTEM_SUMMARY.md` للملخص الشامل
4. تحقق من console المتصفح للأخطاء
5. راجع logs الخادم للمشاكل

---

**تم تطوير هذا النظام لتحليل وتحسين الأداء التعليمي** 📚✨
