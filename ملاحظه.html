<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام تقييم الذكاء الرقمي</title>
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --dark-blue: #2980b9;
            --light-blue: rgba(230, 242, 255, 0.9);
            --light-green: rgba(230, 255, 230, 0.9);
            --light-yellow: rgba(255, 249, 230, 0.9);
            --light-red: rgba(255, 230, 230, 0.9);
            --light-purple: rgba(245, 230, 255, 0.9);
            --border-color: #ddd;
            --text-color: #333;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: url('https://i.gifer.com/7VE.gif') center/cover no-repeat fixed;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.85);
            z-index: -1;
        }
        
        .container {
            width: 95%;
            max-width: 1200px;
            margin: 20px;
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 0 30px rgba(0,0,0,0.2);
            border-radius: 15px;
            overflow: hidden;
        }
        
        .role-selection {
            margin: 30px;
            padding: 30px;
            background-color: var(--light-blue);
            border-radius: 10px;
            border-right: 5px solid var(--primary-color);
            text-align: center;
        }
        
        .role-selection h2 {
            color: var(--dark-blue);
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-block;
            padding: 12px 30px;
            margin: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 150px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .btn-teacher {
            background-color: var(--secondary-color);
        }
        
        .btn-student {
            background-color: var(--accent-color);
        }
        
        .hidden {
            display: none;
        }
        
        .next-test-btn {
            display: block;
            width: 200px;
            margin: 30px auto;
            padding: 12px;
            background: linear-gradient(to right, var(--accent-color), #c0392b);
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-align: center;
        }
        
        .next-test-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        /* Styles for observation card */
        .card-container {
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            overflow: hidden;
            padding-bottom: 30px;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-blue));
            color: white;
            padding: 25px;
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2rem;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://i.gifer.com/7VE.gif') center/cover;
            opacity: 0.1;
            z-index: 1;
        }
        
        .instructions {
            background-color: var(--light-blue);
            padding: 20px;
            margin: 0 30px 30px;
            border-radius: 10px;
            border-right: 5px solid var(--primary-color);
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .student-info {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 0 30px 30px;
            padding: 20px;
            background-color: var(--light-yellow);
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .info-item {
            display: flex;
            align-items: center;
        }
        
        .info-item label {
            font-weight: bold;
            margin-left: 10px;
            min-width: 120px;
            color: var(--dark-blue);
        }
        
        .info-item input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: rgba(255,255,255,0.8);
            transition: all 0.3s;
        }
        
        .info-item input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
        }
        
        table {
            width: calc(100% - 60px);
            margin: 0 30px;
            border-collapse: separate;
            border-spacing: 0;
            font-size: 0.95rem;
            background-color: rgba(255,255,255,0.9);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
        }
        
        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        tr:nth-child(even) {
            background-color: rgba(242, 242, 242, 0.8);
        }
        
        .category-header {
            background-color: var(--dark-blue) !important;
            color: white;
            font-weight: bold;
            text-align: right;
            font-size: 1.1rem;
        }
        
        .question-text {
            text-align: right;
            padding-right: 15px;
        }
        
        .rating-cell {
            min-width: 70px;
            position: relative;
            transition: all 0.3s;
        }
        
        .rating-cell:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }
        
        .rating-cell input[type="radio"] {
            position: absolute;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            margin: 0;
        }
        
        .rating-cell label {
            display: block;
            width: 100%;
            height: 100%;
            padding: 8px;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .rating-cell input[type="radio"]:checked + label {
            background-color: var(--secondary-color);
            color: white;
            font-weight: bold;
            transform: scale(1.05);
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            font-weight: bold;
            color: var(--dark-blue);
        }
        
        /* ألوان مختلفة لكل فئة */
        .info-management { background-color: var(--light-blue); }
        .communication { background-color: var(--light-green); }
        .problem-solving { background-color: var(--light-yellow); }
        .critical-thinking { background-color: var(--light-red); }
        .passion { background-color: var(--light-purple); }
        .identity { background-color: rgba(230, 255, 230, 0.9); }
        
        @media (max-width: 768px) {
            .student-info {
                grid-template-columns: 1fr;
                margin: 0 15px 20px;
            }
            
            table {
                display: block;
                overflow-x: auto;
                margin: 0 15px;
                width: calc(100% - 30px);
            }
            
            th, td {
                padding: 10px 8px;
                min-width: 60px;
            }
            
            .header h1 {
                font-size: 1.5rem;
            }
            
            .container, .card-container {
                margin: 10px;
                width: calc(100% - 20px);
            }
            
            .role-selection {
                margin: 15px;
                padding: 15px;
            }
        }
        /* أزرار التحكم */
.action-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 30px;
}

.action-btn {
    padding: 12px 25px;
    border: none;
    border-radius: 30px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.calculate-btn {
    background-color: #f39c12;
    color: white;
}

.save-btn {
    background-color: #27ae60;
    color: white;
}

.action-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

/* عرض النتيجة */
.result-display {
    background-color: var(--light-blue);
    padding: 20px;
    margin: 0 30px 30px;
    border-radius: 10px;
    text-align: center;
    font-size: 1.2rem;
    display: none;
}

.result-display strong {
    color: var(--dark-blue);
}
.next-button {
    display: inline-block;
    margin-top: 20px;
    padding: 10px 20px;
    background-color: #ff9800;
    color: white;
    text-decoration: none;
    font-size: 16px;
    border-radius: 8px;
    box-shadow: 0 3px 6px rgba(0,0,0,0.2);
    transition: background-color 0.3s ease;
  }
  .next-button:hover {
    background-color: #e68900;
  }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- شاشة اختيار الدور -->
        <div id="roleSelection">
            <div class="header">
                <h1>مرحباً بك في نظام تقييم الذكاء الرقمي</h1>
            </div>
            
            <div class="role-selection">
                <h2>من فضلك اختر دورك:</h2>
                <button id="teacherBtn" class="btn btn-teacher">أنا معلم</button>
                <button id="studentBtn" class="btn btn-student">أنا طالب</button>
            </div>
        </div>
        
        <!-- رسالة للطالب -->
        <div id="studentMessage" class="hidden">
            <div class="header">
                <h1>عزيزي الطالب</h1>
            </div>
            <div style="padding: 30px; text-align: center;">
                <p style="font-size: 1.2rem; margin-bottom: 20px;">شكراً لاهتمامك، هذا الاختبار يتطلب وجود معلم للإشراف عليه.</p>
                <p style="font-size: 1.2rem; margin-bottom: 30px;">سيتم تحويلك الآن إلى النشاط التالي.</p>
                <a href="test3.html" class="next-test-btn">الانتقال إلى النشاط التالي</a>
            </div>
        </div>
        
        <!-- بطاقة الملاحظة للمعلم -->
        <div id="observationCard" class="hidden">
            <div class="card-container">
                <div class="header">
                    <h1>بطاقة ملاحظة أداء تلاميذ المرحلة الابتدائية في الجانب العملي لبعض مهارات الذكاء الرقمي</h1>
                </div>
                
                <div class="instructions">
                    <h3>تعليمات البطاقة:</h3>
                    <p>هدف البطاقة: تهدف إلى قياس تلاميذ المرحلة الابتدائية في الجانب العملي لبعض مهارات الذكاء الرقمي</p>
                    <p>ولكي تتمكن عزيزي الملاحظ من ملاحظة المهارات بدقة اتبع ما يلي:</p>
                    <ol>
                        <li>اقرأ محتوى البطاقة جيدا، قبل أن تقوم بعملية الملاحظة.</li>
                        <li>ضع علامة (✓) فى المكان الذي تراه مناسبًا لمستوى أداء التلميذ.</li>
                        <li>لاحظ أداء التلاميذ للمهارات التى اشتملت عليها البطاقة مع العلم أن البطاقة تعطى لكل مهارة فرعية 5 مستويات لدرجة الأداء</li>
                        <li>قم بإكمال جميع بنود بطاقة الملاحظة.</li>
                    </ol>
                </div>
                
                <div class="student-info">
                    <div class="info-item">
                        <label>اسم التلميذ:</label>
                        <input type="text" placeholder="اكتب اسم التلميذ هنا">
                    </div>
                    <div class="info-item">
                        <label>مكان الملاحظة:</label>
                        <input type="text" placeholder="مكان الملاحظة">
                    </div>
                    <div class="info-item">
                        <label>تاريخ الملاحظة:</label>
                        <input type="date">
                    </div>
                    <div class="info-item">
                        <label>القائم بالملاحظة:</label>
                        <input type="text" placeholder="اسم الملاحظ">
                    </div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th width="5%">م</th>
                            <th width="50%">المهارات الرقمية</th>
                            <th width="9%">ممتاز (5)</th>
                            <th width="9%">جيد جداً (4)</th>
                            <th width="9%">جيد (3)</th>
                            <th width="9%">مقبول (2)</th>
                            <th width="9%">ضعيف (1)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- إدارة المعلومات الرقمية -->
                        <tr class="category-header info-management">
                            <td colspan="7">إدارة المعلومات الرقمية</td>
                        </tr>
                        <tr class="info-management">
                            <td>1</td>
                            <td class="question-text">يعرف أنواع المعلومات الرقمية (نصوص، صور، فيديوهات)</td>
                            <td class="rating-cell"><input type="radio" name="q1" value="5" id="q1_5"><label for="q1_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q1" value="4" id="q1_4"><label for="q1_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q1" value="3" id="q1_3"><label for="q1_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q1" value="2" id="q1_2"><label for="q1_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q1" value="1" id="q1_1"><label for="q1_1">1</label></td>
                        </tr>
                        <tr class="info-management">
                            <td>2</td>
                            <td class="question-text">ينظم المعلومات الرقمية بطريقة آمنة وفعالة</td>
                            <td class="rating-cell"><input type="radio" name="q2" value="5" id="q2_5"><label for="q2_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q2" value="4" id="q2_4"><label for="q2_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q2" value="3" id="q2_3"><label for="q2_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q2" value="2" id="q2_2"><label for="q2_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q2" value="1" id="q2_1"><label for="q2_1">1</label></td>
                        </tr>
                        <tr class="info-management">
                            <td>3</td>
                            <td class="question-text">يستخدم أدوات الذكاء الاصطناعي لتصنيف وإدارة المعلومات بكفاءة</td>
                            <td class="rating-cell"><input type="radio" name="q3" value="5" id="q3_5"><label for="q3_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q3" value="4" id="q3_4"><label for="q3_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q3" value="3" id="q3_3"><label for="q3_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q3" value="2" id="q3_2"><label for="q3_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q3" value="1" id="q3_1"><label for="q3_1">1</label></td>
                        </tr>
                        <tr class="info-management">
                            <td>4</td>
                            <td class="question-text">يبحث عن المعلومات باستخدام محركات البحث الذكية بدقة</td>
                            <td class="rating-cell"><input type="radio" name="q4" value="5" id="q4_5"><label for="q4_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q4" value="4" id="q4_4"><label for="q4_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q4" value="3" id="q4_3"><label for="q4_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q4" value="2" id="q4_2"><label for="q4_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q4" value="1" id="q4_1"><label for="q4_1">1</label></td>
                        </tr>
                        
                        <!-- التواصل الرقمي -->
                        <tr class="category-header communication">
                            <td colspan="7">التواصل الرقمي</td>
                        </tr>
                        <tr class="communication">
                            <td>5</td>
                            <td class="question-text">يتقن التواصل الآمن والأخلاقي عبر الإنترنت</td>
                            <td class="rating-cell"><input type="radio" name="q5" value="5" id="q5_5"><label for="q5_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q5" value="4" id="q5_4"><label for="q5_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q5" value="3" id="q5_3"><label for="q5_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q5" value="2" id="q5_2"><label for="q5_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q5" value="1" id="q5_1"><label for="q5_1">1</label></td>
                        </tr>
                        <tr class="communication">
                            <td>6</td>
                            <td class="question-text">يستخدم أدوات الذكاء الاصطناعي لتحسين جودة التواصل (مثل تصحيح النصوص أو الترجمة)</td>
                            <td class="rating-cell"><input type="radio" name="q6" value="5" id="q6_5"><label for="q6_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q6" value="4" id="q6_4"><label for="q6_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q6" value="3" id="q6_3"><label for="q6_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q6" value="2" id="q6_2"><label for="q6_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q6" value="1" id="q6_1"><label for="q6_1">1</label></td>
                        </tr>
                        <tr class="communication">
                            <td>7</td>
                            <td class="question-text">يلتزم بآداب التواصل الرقمي أثناء التفاعل عبر الإنترنت</td>
                            <td class="rating-cell"><input type="radio" name="q7" value="5" id="q7_5"><label for="q7_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q7" value="4" id="q7_4"><label for="q7_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q7" value="3" id="q7_3"><label for="q7_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q7" value="2" id="q7_2"><label for="q7_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q7" value="1" id="q7_1"><label for="q7_1">1</label></td>
                        </tr>
                        <tr class="communication">
                            <td>8</td>
                            <td class="question-text">يتجنب المشاركة في محادثات غير آمنة أو مسيئة</td>
                            <td class="rating-cell"><input type="radio" name="q8" value="5" id="q8_5"><label for="q8_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q8" value="4" id="q8_4"><label for="q8_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q8" value="3" id="q8_3"><label for="q8_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q8" value="2" id="q8_2"><label for="q8_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q8" value="1" id="q8_1"><label for="q8_1">1</label></td>
                        </tr>
                        
                        <!-- حل المشكلات الرقمية -->
                        <tr class="category-header problem-solving">
                            <td colspan="7">حل المشكلات الرقمية</td>
                        </tr>
                        <tr class="problem-solving">
                            <td>9</td>
                            <td class="question-text">يحدد المشكلات الرقمية البسيطة (مثل أعطال البرامج أو مشكلات الاتصال)</td>
                            <td class="rating-cell"><input type="radio" name="q9" value="5" id="q9_5"><label for="q9_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q9" value="4" id="q9_4"><label for="q9_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q9" value="3" id="q9_3"><label for="q9_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q9" value="2" id="q9_2"><label for="q9_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q9" value="1" id="q9_1"><label for="q9_1">1</label></td>
                        </tr>
                        <tr class="problem-solving">
                            <td>10</td>
                            <td class="question-text">يستخدم أدوات الذكاء الاصطناعي لحل المشكلات التقنية بفعالية</td>
                            <td class="rating-cell"><input type="radio" name="q10" value="5" id="q10_5"><label for="q10_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q10" value="4" id="q10_4"><label for="q10_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q10" value="3" id="q10_3"><label for="q10_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q10" value="2" id="q10_2"><label for="q10_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q10" value="1" id="q10_1"><label for="q10_1">1</label></td>
                        </tr>
                        <tr class="problem-solving">
                            <td>11</td>
                            <td class="question-text">يطبق التفكير المنطقي لمواجهة التحديات الرقمية</td>
                            <td class="rating-cell"><input type="radio" name="q11" value="5" id="q11_5"><label for="q11_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q11" value="4" id="q11_4"><label for="q11_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q11" value="3" id="q11_3"><label for="q11_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q11" value="2" id="q11_2"><label for="q11_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q11" value="1" id="q11_1"><label for="q11_1">1</label></td>
                        </tr>
                        <tr class="problem-solving">
                            <td>12</td>
                            <td class="question-text">يتعرف على مصادر الدعم الفني المتاحة والاستفادة منها</td>
                            <td class="rating-cell"><input type="radio" name="q12" value="5" id="q12_5"><label for="q12_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q12" value="4" id="q12_4"><label for="q12_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q12" value="3" id="q12_3"><label for="q12_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q12" value="2" id="q12_2"><label for="q12_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q12" value="1" id="q12_1"><label for="q12_1">1</label></td>
                        </tr>
                        <tr class="problem-solving">
                            <td>13</td>
                            <td class="question-text">يحدد المشكلات الرقمية البسيطة (مثل أعطال البرامج أو مشكلات الاتصال)</td>
                            <td class="rating-cell"><input type="radio" name="q13" value="5" id="q13_5"><label for="q13_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q13" value="4" id="q13_4"><label for="q13_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q13" value="3" id="q13_3"><label for="q13_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q13" value="2" id="q13_2"><label for="q13_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q13" value="1" id="q13_1"><label for="q13_1">1</label></td>
                        </tr>
                        
                        <!-- التفكير الناقد الرقمي -->
                        <tr class="category-header critical-thinking">
                            <td colspan="7">التفكير الناقد الرقمي</td>
                        </tr>
                        <tr class="critical-thinking">
                            <td>14</td>
                            <td class="question-text">يميز بين المعلومات الصحيحة والمضللة من خلال التحقق من المصادر</td>
                            <td class="rating-cell"><input type="radio" name="q14" value="5" id="q14_5"><label for="q14_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q14" value="4" id="q14_4"><label for="q14_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q14" value="3" id="q14_3"><label for="q14_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q14" value="2" id="q14_2"><label for="q14_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q14" value="1" id="q14_1"><label for="q14_1">1</label></td>
                        </tr>
                        <tr class="critical-thinking">
                            <td>15</td>
                            <td class="question-text">يقيم المحتوى الرقمي بناءً على معايير المصداقية والدقة</td>
                            <td class="rating-cell"><input type="radio" name="q15" value="5" id="q15_5"><label for="q15_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q15" value="4" id="q15_4"><label for="q15_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q15" value="3" id="q15_3"><label for="q15_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q15" value="2" id="q15_2"><label for="q15_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q15" value="1" id="q15_1"><label for="q15_1">1</label></td>
                        </tr>
                        <tr class="critical-thinking">
                            <td>16</td>
                            <td class="question-text">يتعرف على علامات المحتوى غير الموثوق (مثل الأخبار المزيفة)</td>
                            <td class="rating-cell"><input type="radio" name="q16" value="5" id="q16_5"><label for="q16_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q16" value="4" id="q16_4"><label for="q16_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q16" value="3" id="q16_3"><label for="q16_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q16" value="2" id="q16_2"><label for="q16_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q16" value="1" id="q16_1"><label for="q16_1">1</label></td>
                        </tr>
                        <tr class="critical-thinking">
                            <td>17</td>
                            <td class="question-text">يتفقد المحتوى الرقمي باستخدام مهارات التحليل بشكل منهجي</td>
                            <td class="rating-cell"><input type="radio" name="q17" value="5" id="q17_5"><label for="q17_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q17" value="4" id="q17_4"><label for="q17_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q17" value="3" id="q17_3"><label for="q17_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q17" value="2" id="q17_2"><label for="q17_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q17" value="1" id="q17_1"><label for="q17_1">1</label></td>
                        </tr>
                        
                        <!-- الشغف الدراسي -->
                        <tr class="category-header passion">
                            <td colspan="7">الشغف الدراسي</td>
                        </tr>
                        <tr class="passion">
                            <td>18</td>
                            <td class="question-text">يستخدم أساليب التعلم المفضلة (سمعية وبصرية) لتعزيز الدافعية للتعلم</td>
                            <td class="rating-cell"><input type="radio" name="q18" value="5" id="q18_5"><label for="q18_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q18" value="4" id="q18_4"><label for="q18_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q18" value="3" id="q18_3"><label for="q18_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q18" value="2" id="q18_2"><label for="q18_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q18" value="1" id="q18_1"><label for="q18_1">1</label></td>
                        </tr>
                        <tr class="passion">
                            <td>19</td>
                            <td class="question-text">يتفاعل مع تطبيقات الذكاء الاصطناعي التعليمية لتحسين تجربة التعلم</td>
                            <td class="rating-cell"><input type="radio" name="q19" value="5" id="q19_5"><label for="q19_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q19" value="4" id="q19_4"><label for="q19_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q19" value="3" id="q19_3"><label for="q19_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q19" value="2" id="q19_2"><label for="q19_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q19" value="1" id="q19_1"><label for="q19_1">1</label></td>
                        </tr>
                        <tr class="passion">
                            <td>20</td>
                            <td class="question-text">يربط المحتوى التعليمي بالاهتمامات الشخصية لزيادة الحماس</td>
                            <td class="rating-cell"><input type="radio" name="q20" value="5" id="q20_5"><label for="q20_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q20" value="4" id="q20_4"><label for="q20_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q20" value="3" id="q20_3"><label for="q20_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q20" value="2" id="q20_2"><label for="q20_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q20" value="1" id="q20_1"><label for="q20_1">1</label></td>
                        </tr>
                        <tr class="passion">
                            <td>21</td>
                            <td class="question-text">يشارك في أنشطة تعليمية تفاعلية تعزز الحماس للتعلم</td>
                            <td class="rating-cell"><input type="radio" name="q21" value="5" id="q21_5"><label for="q21_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q21" value="4" id="q21_4"><label for="q21_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q21" value="3" id="q21_3"><label for="q21_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q21" value="2" id="q21_2"><label for="q21_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q21" value="1" id="q21_1"><label for="q21_1">1</label></td>
                        </tr>
                        
                        <!-- تعزيز الهوية الرقمية الإيجابية للطلاب -->
                        <tr class="category-header identity">
                            <td colspan="7">تعزيز الهوية الرقمية الإيجابية للطلاب</td>
                        </tr>
                        <tr class="identity">
                            <td>22</td>
                            <td class="question-text">ينشئ محتوى رقمي إيجابي يعكس القيم الأخلاقية</td>
                            <td class="rating-cell"><input type="radio" name="q22" value="5" id="q22_5"><label for="q22_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q22" value="4" id="q22_4"><label for="q22_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q22" value="3" id="q22_3"><label for="q22_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q22" value="2" id="q22_2"><label for="q22_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q22" value="1" id="q22_1"><label for="q22_1">1</label></td>
                        </tr>
                        <tr class="identity">
                            <td>23</td>
                            <td class="question-text">يتفاعل عبر الإنترنت بمسؤولية مع احترام الآخرين</td>
                            <td class="rating-cell"><input type="radio" name="q23" value="5" id="q23_5"><label for="q23_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q23" value="4" id="q23_4"><label for="q23_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q23" value="3" id="q23_3"><label for="q23_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q23" value="2" id="q23_2"><label for="q23_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q23" value="1" id="q23_1"><label for="q23_1">1</label></td>
                        </tr>
                        <tr class="identity">
                            <td>24</td>
                            <td class="question-text">يتجنب نشر محتوى سلبي أو مسيء عبر الإنترنت</td>
                            <td class="rating-cell"><input type="radio" name="q24" value="5" id="q24_5"><label for="q24_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q24" value="4" id="q24_4"><label for="q24_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q24" value="3" id="q24_3"><label for="q24_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q24" value="2" id="q24_2"><label for="q24_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q24" value="1" id="q24_1"><label for="q24_1">1</label></td>
                        </tr>
                        <tr class="identity">
                            <td>25</td>
                            <td class="question-text">يبني سمعة رقمية إيجابية تدعم الفرص الأكاديمية والاجتماعية</td>
                            <td class="rating-cell"><input type="radio" name="q25" value="5" id="q25_5"><label for="q25_5">5</label></td>
                            <td class="rating-cell"><input type="radio" name="q25" value="4" id="q25_4"><label for="q25_4">4</label></td>
                            <td class="rating-cell"><input type="radio" name="q25" value="3" id="q25_3"><label for="q25_3">3</label></td>
                            <td class="rating-cell"><input type="radio" name="q25" value="2" id="q25_2"><label for="q25_2">2</label></td>
                            <td class="rating-cell"><input type="radio" name="q25" value="1" id="q25_1"><label for="q25_1">1</label></td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="footer">
                    <p>شكراً لك على استخدام بطاقة التقييم الرقمي</p>
                    <p>الباحثتان</p>
                    <a href="test3.html" class="next-test-btn">الانتقال إلى النشاط التالي</a>
                </div>
            </div>
        </div>
    </div>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام التقييم الرقمي</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .hidden {
            display: none;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 10px 5px;
            cursor: pointer;
            border-radius: 4px;
        }
        button:hover {
            background-color: #45a049;
        }
        .student-info input {
            padding: 8px;
            margin: 5px 0;
            width: 100%;
            box-sizing: border-box;
        }
        .result-display {
            background-color: #e8f5e9;
            padding: 15px;
            border-radius: 4px;
            margin-top: 20px;
        }
        .question {
            margin-bottom: 15px;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        .next-btn {
            background-color: #2196F3;
        }
    </style>
</head>
<body>
   
    <div id="studentMessage" class="card hidden">
        <h2>مرحباً بالطالب</h2>
        <p>يمكنك الاطلاع على نتائجك من خلال المعلم.</p>
    </div>

    <div id="observationCard" class="card hidden">
        <h2>نموذج التقييم</h2>
        
        <div class="student-info">
            <input type="text" id="studentName" placeholder="أدخل اسم الطالب">
        </div>
        
        <div id="questionsContainer">
            <!-- Sample questions -->
            <div class="question">
                <p>1. مدى إتقان الطالب للمهارة الرقمية:</p>
                <input type="radio" name="q1" value="1"> 1 (ضعيف)
                <input type="radio" name="q1" value="2"> 2
                <input type="radio" name="q1" value="3"> 3 (متوسط)
                <input type="radio" name="q1" value="4"> 4
                <input type="radio" name="q1" value="5"> 5 (ممتاز)
            </div>
            <!-- Add more questions as needed -->
        </div>
        
        <div class="action-buttons">
            <button id="calculateBtn">حساب النتيجة</button>
            <button id="saveBtn">حفظ التقييم</button>
        </div>
        
        <div id="resultDisplay" class="result-display hidden">
            <h3>نتيجة التقييم:</h3>
            <p>الدرجة الكلية: <strong id="finalScore">0</strong> من 125</p>
            <p>النسبة المئوية: <strong id="percentage">0%</strong></p>
            <p>التقدير: <strong id="grade">-</strong></p>
        </div>
        
        <button id="nextBtn" class="next-btn hidden">التالي ➡</button>
    </div>

    <script>
        // DOM Elements
        const roleSelection = document.getElementById('roleSelection');
        const studentMessage = document.getElementById('studentMessage');
        const observationCard = document.getElementById('observationCard');
        const teacherBtn = document.getElementById('teacherBtn');
        const studentBtn = document.getElementById('studentBtn');
        const calculateBtn = document.getElementById('calculateBtn');
        const saveBtn = document.getElementById('saveBtn');
        const resultDisplay = document.getElementById('resultDisplay');
        const finalScore = document.getElementById('finalScore');
        const percentage = document.getElementById('percentage');
        const gradeDisplay = document.getElementById('grade');
        const nextBtn = document.getElementById('nextBtn');
        const studentNameInput = document.getElementById('studentName');

        let totalScore = 0;
        let currentResults = {};

        // Role Selection
        teacherBtn.addEventListener('click', () => {
            roleSelection.style.display = 'none';
            observationCard.classList.remove('hidden');
        });

        studentBtn.addEventListener('click', () => {
            roleSelection.style.display = 'none';
            studentMessage.classList.remove('hidden');
        });

        // Calculate Results
        calculateBtn.addEventListener('click', () => {
            totalScore = 0;
            
            // Calculate score (for 25 questions)
            for (let i = 1; i <= 25; i++) {
                const selectedRadio = document.querySelector(`input[name="q${i}"]:checked`);
                if (selectedRadio) {
                    totalScore += parseInt(selectedRadio.value);
                }
            }
            
            // Calculate percentage and grade
            const scorePercentage = Math.round((totalScore / 125) * 100);
            const grade = calculateGrade(scorePercentage);
            
            // Display results
            finalScore.textContent = totalScore;
            percentage.textContent = `${scorePercentage}%`;
            gradeDisplay.textContent = grade;
            
            // Store current results
            currentResults = {
                studentName: studentNameInput.value.trim() || "غير معروف",
                totalScore: totalScore,
                percentage: scorePercentage,
                grade: grade,
                test_type: "Digital Intelligence Assessment",
                date: new Date().toLocaleString('ar-EG')
            };
            
            resultDisplay.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
        });

        // Save Results
        saveBtn.addEventListener('click', () => {
            if (totalScore === 0) {
                alert("الرجاء حساب النتيجة أولاً قبل الحفظ");
                return;
            }
            
            let savedResults = JSON.parse(localStorage.getItem('gradingResults')) || [];
            savedResults.push(currentResults);
            localStorage.setItem('gradingResults', JSON.stringify(savedResults));
            
            alert(`
                تم حفظ التقييم بنجاح!
                الاسم: ${currentResults.studentName}
                الدرجة: ${currentResults.totalScore}/125
                النسبة: ${currentResults.percentage}%
                التقدير: ${currentResults.grade}
            `);
        });

        // Next Button
        nextBtn.addEventListener('click', () => {
            // Save automatically before proceeding
            if (totalScore > 0) {
                let savedResults = JSON.parse(localStorage.getItem('gradingResults')) || [];
                savedResults.push(currentResults);
                localStorage.setItem('gradingResults', JSON.stringify(savedResults));
            }
            
            // Proceed to next page
            window.location.href = "/test3";
        });

        // Grade Calculation Function
        function calculateGrade(percentage) {
            if (percentage >= 90) return "ممتاز (A)";
            if (percentage >= 80) return "جيد جداً (B)";
            if (percentage >= 70) return "جيد (C)";
            if (percentage >= 60) return "مقبول (D)";
            return "ضعيف (F)";
        }
    </script>
<button onclick="submitExam()">إنهاء الامتحان</button>

<script>
function submitExam() {
    if (totalScore === 0) {
        alert("الرجاء حساب النتيجة أولاً قبل الإرسال");
        return;
    }
    
    const studentName = studentNameInput.value.trim() || "غير معروف";
    
    const resultData = {
        student_name: studentName,
        test_type: "Digital Intelligence Assessment",
        total_score: totalScore,
        percentage: Math.round((totalScore / 125) * 100),
        grade: calculateGrade(Math.round((totalScore / 125) * 100)),
        submission_date: new Date().toISOString()
    };

    fetch("/submit_exam", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(resultData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert("تم حفظ النتائج بنجاح!");
            // Save to localStorage as well
            let savedResults = JSON.parse(localStorage.getItem('gradingResults')) || [];
            savedResults.push(currentResults);
            localStorage.setItem('gradingResults', JSON.stringify(savedResults));
        } else {
            alert("حدث خطأ في حفظ النتائج");
        }
    })
    .catch(error => {
        console.error("Error saving results:", error);
        alert("حدث خطأ في حفظ النتائج");
    });
}
</script>

</body>
</html>
<script>
(function(){
  try {
    const params = new URLSearchParams(window.location.search);
    const next = params.get('next');
    if (next) {
      const btn = document.createElement('a');
      btn.textContent = 'إنهاء الدورة →';
      btn.href = next;
      btn.style.cssText = 'position:fixed;bottom:20px;left:20px;background:#4CAF50;color:#fff;padding:12px 16px;border-radius:10px;font-weight:800;z-index:1000;text-decoration:none;box-shadow:0 6px 16px rgba(0,0,0,.2)';
      document.body.appendChild(btn);
    }
  } catch(e) {}
})();
</script>